<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Index | ZI-28 Documentation</title>
	<link rel="stylesheet" href="styles.css" />
</head>

<body>
	<h1>ZI-28 Documentation</h1>
	<h2>Index</h2>

		<div class="files">
		<h3>Files</h3>
					<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html">string.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Contains string manipulation routines similar to those in the C library &quot;string.h&quot;</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="drive.asm.html">drive.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Contains routines for accessing drives</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="io.asm.html">io.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Legacy terminal I/O, will be replaced with the new file system</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="os.asm.html">os.asm</a>
			</div>
			<div class="menudesc">
				<p><p>OS entry and call table</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="monitor.asm.html">monitor.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Machine monitor, unstable and incomplete</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="cli.asm.html">cli.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Command line interface of the OS</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html">file.asm</a>
			</div>
			<div class="menudesc">
				<p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html">math.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Contains advanced math routines</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="devfs.asm.html">devfs.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Device filesystem</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="process.asm.html">process.asm</a>
			</div>
			<div class="menudesc">
				<p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="block.asm.html">block.asm</a>
			</div>
			<div class="menudesc">
				<p><p>Block device abstraction layer</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="unio.asm.html">unio.asm</a>
			</div>
			<div class="menudesc">
				<p><p>UNIO-EEPROM Driver</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html">sd.asm</a>
			</div>
			<div class="menudesc">
				<p><p>SD-card driver</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html">fat.asm</a>
			</div>
			<div class="menudesc">
				<p><p>FAT-16 file system</p></p>
			</div>
		</div>
				</div>
	
		<div class="routines">
		<h3>Routines</h3>
					<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#memcmp">memcmp</a>
			</div>
			<div class="menudesc">
				<p><p>Compares b bytes of hl and de</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#memset">memset</a>
			</div>
			<div class="menudesc">
				<p><p>Fills b bytes with a, starting at hl</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strcat">strcat</a>
			</div>
			<div class="menudesc">
				<p><p>Appends hl to the end of de</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strncat">strncat</a>
			</div>
			<div class="menudesc">
				<p><p>Appends up to b characters from hl to the end of de</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strcmp">strcmp</a>
			</div>
			<div class="menudesc">
				<p><p>Compares hl and de</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strncmp">strncmp</a>
			</div>
			<div class="menudesc">
				<p><p>Compares at most the first b characters of hl and de</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strcpy">strcpy</a>
			</div>
			<div class="menudesc">
				<p><p>Copy a string from hl to de</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strncpy">strncpy</a>
			</div>
			<div class="menudesc">
				<p><p>Copy up to b characters from hl to de</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strlen">strlen</a>
			</div>
			<div class="menudesc">
				<p><p>Returns the length of the string pointed to by hl</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#toupper">toupper</a>
			</div>
			<div class="menudesc">
				<p><p>Converts a character to uppercase</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="string.asm.html#strtup">strtup</a>
			</div>
			<div class="menudesc">
				<p><p>Converts a string to uppercase</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="drive.asm.html#getDriveAddr">getDriveAddr</a>
			</div>
			<div class="menudesc">
				<p><p>Finds the drive entry of a given drive number</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="drive.asm.html#k_mount">k_mount</a>
			</div>
			<div class="menudesc">
				<p><p>Mount a drive file</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="drive.asm.html#k_chmain">k_chmain</a>
			</div>
			<div class="menudesc">
				<p><p>Change the main drive.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="drive.asm.html#getTableAddr">getTableAddr</a>
			</div>
			<div class="menudesc">
				<p><p>Finds the file entry of a given fd</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#getFileAddr">getFileAddr</a>
			</div>
			<div class="menudesc">
				<p><p>Finds the file entry of a given fd</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_open">k_open</a>
			</div>
			<div class="menudesc">
				<p><p>Open a file / device file</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_close">k_close</a>
			</div>
			<div class="menudesc">
				<p><p>Close a file</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_readdir">k_readdir</a>
			</div>
			<div class="menudesc">
				<p><p>Get information about the next file in a directory.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_stat">k_stat</a>
			</div>
			<div class="menudesc">
				<p><p>Get information about a file.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_fstat">k_fstat</a>
			</div>
			<div class="menudesc">
				<p><p>Get information about an open file.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_read">k_read</a>
			</div>
			<div class="menudesc">
				<p><p>Read from an open file</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_write">k_write</a>
			</div>
			<div class="menudesc">
				<p><p>Write to an open file</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_seek">k_seek</a>
			</div>
			<div class="menudesc">
				<p><p>Change the file offset of an open file using a 16-bit offset.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="file.asm.html#k_lseek">k_lseek</a>
			</div>
			<div class="menudesc">
				<p><p>Change the file offset of an open file using a 32-bit offset.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#add32">add32</a>
			</div>
			<div class="menudesc">
				<p><p>Add two 32-bit numbers</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#adc32">adc32</a>
			</div>
			<div class="menudesc">
				<p><p>Add two 32-bit numbers and the carry bit</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#sub32">sub32</a>
			</div>
			<div class="menudesc">
				<p><p>Subtract two 32-bit numbers</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#sbc32">sbc32</a>
			</div>
			<div class="menudesc">
				<p><p>Subtract two 32-bit numbers and the carry bit</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#inc32">inc32</a>
			</div>
			<div class="menudesc">
				<p><p>Increment a 32-bit number by 1</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#dec32">dec32</a>
			</div>
			<div class="menudesc">
				<p><p>Decrement a 32-bit number by 1</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#lshiftbyte32">lshiftbyte32</a>
			</div>
			<div class="menudesc">
				<p><p>Shift a 32-bit number left by 1 byte</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#lshift9_32">lshift9_32</a>
			</div>
			<div class="menudesc">
				<p><p>Shift a 32-bit number left by 9 bits</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#lshift32">lshift32</a>
			</div>
			<div class="menudesc">
				<p><p>Shift a 32-bit number left by 1 bit</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#rshiftbyte32">rshiftbyte32</a>
			</div>
			<div class="menudesc">
				<p><p>Shift a 32-bit number right by 1 byte</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#rshift9_32">rshift9_32</a>
			</div>
			<div class="menudesc">
				<p><p>Shift a 32-bit number right by 9 bits</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#rshift32">rshift32</a>
			</div>
			<div class="menudesc">
				<p><p>Shift a 32-bit number right by 1 bit</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#ld8">ld8</a>
			</div>
			<div class="menudesc">
				<p><p>Load an 8-bit number into a 32-bit pointer</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#ld16">ld16</a>
			</div>
			<div class="menudesc">
				<p><p>Load a 16-bit number into a 32-bit pointer</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#ld32">ld32</a>
			</div>
			<div class="menudesc">
				<p><p>Copy a 32-bit number from (hl) to (de)</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#cp32">cp32</a>
			</div>
			<div class="menudesc">
				<p><p>Compares two 32-bit numbers</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="math.asm.html#clear32">clear32</a>
			</div>
			<div class="menudesc">
				<p><p>Sets a 32-bit number to 0</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="devfs.asm.html#devfs_init">devfs_init</a>
			</div>
			<div class="menudesc">
				<p><p>Adds all permanently attached devices</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="devfs.asm.html#devfs_addDev">devfs_addDev</a>
			</div>
			<div class="menudesc">
				<p><p>Add a new device entry</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="devfs.asm.html#devfs_addExpCard">devfs_addExpCard</a>
			</div>
			<div class="menudesc">
				<p><p>Add an entry for an expansion card to the devfs and initialise the module. Should eventually also read the eeprom and handle driver loading somehow.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="devfs.asm.html#devfs_open">devfs_open</a>
			</div>
			<div class="menudesc">
				<p><p>Open a device file</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="process.asm.html#exec">exec</a>
			</div>
			<div class="menudesc">
				<p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="block.asm.html#block_read">block_read</a>
			</div>
			<div class="menudesc">
				<p><p>Translate random access into block based read.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="block.asm.html#block_write">block_write</a>
			</div>
			<div class="menudesc">
				<p><p>Translate random access into block based write.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="unio.asm.html#unio_read">unio_read</a>
			</div>
			<div class="menudesc">
				<p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_init">sd_init</a>
			</div>
			<div class="menudesc">
				<p><p>Initialises the SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_read">sd_read</a>
			</div>
			<div class="menudesc">
				<p><p>Read from a SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_readBlock">sd_readBlock</a>
			</div>
			<div class="menudesc">
				<p><p>Read a block from a SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_write">sd_write</a>
			</div>
			<div class="menudesc">
				<p><dl>
<dt>Input:</dt>
<dd>ix - file entry addr
</dd>
<dd>(de) - buffer
</dd>
<dd>bc - count
</dd>
</dl></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_sendCmd">sd_sendCmd</a>
			</div>
			<div class="menudesc">
				<p><p>Send a command to the SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_getResponse">sd_getResponse</a>
			</div>
			<div class="menudesc">
				<p><p>Look for a specific response from the SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_enable">sd_enable</a>
			</div>
			<div class="menudesc">
				<p><p>Set CS to low to enable the SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_disable">sd_disable</a>
			</div>
			<div class="menudesc">
				<p><p>Set CS to low to enable the SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#sd_transferByte">sd_transferByte</a>
			</div>
			<div class="menudesc">
				<p><p>Transfer a byte between the buffer and the SD-card</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="sd.asm.html#delay100">delay100</a>
			</div>
			<div class="menudesc">
				<p><p>Wait for approx. 100ms</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_init">fat_init</a>
			</div>
			<div class="menudesc">
				<p><p>Calculate and store filesystem offsets</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_open">fat_open</a>
			</div>
			<div class="menudesc">
				<p><p>Creates a new file table entry</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_readdir">fat_readdir</a>
			</div>
			<div class="menudesc">
				<p><p>Get information about the next file in a directory.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_fstat">fat_fstat</a>
			</div>
			<div class="menudesc">
				<p><p>Get information about a file.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_statFromEntry">fat_statFromEntry</a>
			</div>
			<div class="menudesc">
				<p><p>Creates a stat from a directory entry.</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_read">fat_read</a>
			</div>
			<div class="menudesc">
				<p><p>Copy data from a file to memory</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_nextCluster">fat_nextCluster</a>
			</div>
			<div class="menudesc">
				<p><p>Find the next cluster of a chain from the first FAT</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_clusterToAddr">fat_clusterToAddr</a>
			</div>
			<div class="menudesc">
				<p><p>Calculate the starting address of a cluster</p></p>
			</div>
		</div>
							<div class="menuentry">
			<div class="menutitle">
				<a href="fat.asm.html#fat_buildFilename">fat_buildFilename</a>
			</div>
			<div class="menudesc">
				<p><p>Creates a 8.3 string from a directory entry</p></p>
			</div>
		</div>
				</div>
	


<footer>
</footer>


</body>
</html>
